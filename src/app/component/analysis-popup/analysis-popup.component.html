<div id="analysisPopup" class="ontop">
  <div class="popupAnalysis" style="border-style: solid; border-width: 10px">
    <div>
      <div *ngIf="getSelectedAnalysis() === 'loop'">
        Loops
      </div>
      <div *ngIf="getSelectedAnalysis() === 'force'">
        Forces
      </div>
      <div *ngIf="getSelectedAnalysis() === 'stress'">
        Stress
      </div>
      <div *ngIf="getSelectedAnalysis() === 'kinematic_loop'">
        Kinematics
        <!--        Kinematics (Loop Method)-->
      </div>
      <!--      <div *ngIf="getSelectedAnalysis() === 'kinematic_ic'">-->
      <!--        Kinematics (Ics)-->
      <!--      </div>-->

      <div class="buttonContainer">
        <button class="closeAnalysis" (click)="closeAnalysis()"
                (mouseover)="mouseOver(99999)"
                (mouseout)="mouseOut(99999)"></button>
        <button id="exportButton" (click)="setTab(0)"
                (mouseover)="mouseOver(0)"
                (mouseout)="mouseOut(0)"
                style="color: black; background-color: gray"> Export </button>
        <button id="showPlotsButton" (click)="setTab(1)"
                (mouseover)="mouseOver(1)"
                (mouseout)="mouseOut(1)"> Plots Charts</button>
        <button id="showEqsButton" (click)="setTab(2)"
                (mouseover)="mouseOver(2)"
                (mouseout)="mouseOut(2)"> Show Eqns </button>
      </div>
    </div>
    <div class="tabPanel" *ngIf="getSelectedTab() === 0"
         style="margin: 4px 4px; padding: 4px; width: 500px; height: 500px; overflow-x: hidden; overflow-y:auto; text-align: justify">
      <div *ngIf="getSelectedAnalysis() === 'loop'">
        <div>
          <input type="checkbox" value="requiredLoopCheck" (change)="setOption($event)" [checked]="requiredLoopCheck">
          <label>
            Required Loops
          </label>
        </div>
        <div>
          <input type="checkbox" value="allLoopCheck" (change)="setOption($event)" [checked]="allLoopCheck">
          <label>
            All Loops
          </label>
        </div>
        <div>
          <button class="secondaryButtons" (click)="exportExcel('loops')">Export
            Data on the Selected Analysis
          </button>
        </div>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'force'">
        <div style="text-indent: 30px">
          <input type="checkbox" value="staticForcesCheck" (change)="setOption($event)" [checked]="staticForcesCheck">
          <label>
            Forces
          </label>
        </div>
        <div style="text-indent: 30px">
          <input type="checkbox" value="staticTorqueCheck" (change)="setOption($event)" [checked]="staticTorqueCheck">
          <label>
            Torque
          </label>
        </div>
        <div style="text-indent: 30px">
          <input type="checkbox" value="staticForcePositionsCheck" (change)="setOption($event)" [checked]="staticForcePositionsCheck">
          <label>
            Force Positions
          </label>
        </div>
        <div style="text-indent: 30px">
          <input type="checkbox" value="staticJointPositionsCheck" (change)="setOption($event)" [checked]="staticJointPositionsCheck">
          <label>
            Joint Positions
          </label>
        </div>
        <div>
          <button class="secondaryButtons" (click)="exportExcel('statics')">Export
            Data on the Selected Analysis
          </button>
        </div>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'stress'">
        <!-- TODO: Do this once this is determined -->
      </div>
      <div *ngIf="getSelectedAnalysis() === 'kinematic_loop'">
        <div>
          <input type="checkbox" value="loopMethodCheck" (change)="setOption($event)" [checked]="loopMethodCheck">
          <label>
            Loop Method
          </label>
        </div>
        <div *ngIf="this.loopMethodCheck">
          <div style="text-indent: 30px">
            <input type="checkbox" value="linKinJointCheck" (change)="setOption($event)" [checked]="linKinJointCheck">
            <label>
              Linear Kinematics at Joint
            </label>
          </div>
          <div *ngIf="this.linKinJointCheck">
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinJointPos" (change)="setOption($event)" [checked]="linKinJointPos">
              <label>Position</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinJointVel" (change)="setOption($event)" [checked]="linKinJointVel">
              <label>Velocity</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinJointAcc" (change)="setOption($event)" [checked]="linKinJointAcc">
              <label>Acceleration</label>
            </div>
          </div>
          <div style="text-indent: 30px">
            <input type="checkbox" value="linKinLinkCheck" (change)="setOption($event)" [checked]="linKinLinkCheck">
            <label>
              Linear Kinematics at Link (Center of Mass)
            </label>
          </div>
          <div *ngIf="this.linKinLinkCheck">
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinLinkPos" (change)="setOption($event)" [checked]="linKinLinkPos">
              <label>Position</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinLinkVel" (change)="setOption($event)" [checked]="linKinLinkVel">
              <label>Velocity</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinLinkAcc" (change)="setOption($event)" [checked]="linKinLinkAcc">
              <label>Acceleration</label>
            </div>
          </div>
          <div style="text-indent: 30px">
            <input type="checkbox" value="angKinLinkCheck" (change)="setOption($event)" [checked]="angKinLinkCheck">
            <label>
              Angular Kinematics at Link
            </label>
          </div>
          <div *ngIf="this.angKinLinkCheck">
            <div style="text-indent: 60px">
              <input type="checkbox" value="angKinLinkPos" (change)="setOption($event)" [checked]="angKinLinkPos">
              <label>Position</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="angKinLinkVel" (change)="setOption($event)" [checked]="angKinLinkVel">
              <label>Velocity</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="angKinLinkAcc" (change)="setOption($event)" [checked]="angKinLinkAcc">
              <label>Acceleration</label>
            </div>
          </div>
        </div>
        <div>
          <input type="checkbox" value="instantCenterMethodCheck" (change)="setOption($event)" [checked]="instantCenterMethodCheck">
          <label>
            Instant Center Method
          </label>
        </div>
        <div *ngIf="this.instantCenterMethodCheck" style="text-indent: 30px">
          <div>
            <input type="checkbox" value="icPositionsCheck" (change)="setOption($event)" [checked]="icPositionsCheck">
            <label>
              Position of ICs
            </label>
          </div>
          <div style="text-indent: 30px">
            <input type="checkbox" value="linKinJointICCheck" (change)="setOption($event)" [checked]="linKinJointICCheck">
            <label>
              Linear Kinematics at Joint
            </label>
          </div>
          <div *ngIf="this.linKinJointICCheck">
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinJointICPos" (change)="setOption($event)" [checked]="linKinJointICPos">
              <label>Position</label>
            </div>
            <div style="text-indent: 60px">
              <input type="checkbox" value="linKinJointICVel" (change)="setOption($event)" [checked]="linKinJointICVel">
              <label>Velocity</label>
            </div>
          </div>
          <div style="text-indent: 30px">
            <input type="checkbox" value="angKinLinkICCheck" (change)="setOption($event)" [checked]=angKinLinkICCheck>
            <label>
              Angular Kinematics at Link
            </label>
          </div>
          <div *ngIf="this.angKinLinkICCheck">
<!--            <div style="text-indent: 60px">-->
<!--              <input type="checkbox" value="angKinLinkICPos" (change)="setOption($event)" [checked]="angKinLinkICPos">-->
<!--              <label>Position</label>-->
<!--            </div>-->
            <div style="text-indent: 60px">
              <input type="checkbox" value="angKinLinkICVel" (change)="setOption($event)" [checked]="angKinLinkICVel">
              <label>Velocity</label>
            </div>
          </div>
        </div>
        <div *ngIf="this.instantCenterMethodCheck || this.loopMethodCheck" style="text-indent: 100px">
          <button class="secondaryButtons" (click)="exportExcel('kinematic_loop')">Export
            Data on the Selected Analysis
          </button>
        </div>
      </div>
      <!--      </div>-->
      <div *ngIf="getSelectedAnalysis() === 'ic'">
        <div>
          <input type="checkbox" value="icPositionsCheck" (change)="setOption($event)" [checked]="icPositionsCheck">
          <label>
            Position of ICs
          </label>
        </div>
        <div>
          <input type="checkbox" value="linKinJointICCheck" (change)="setOption($event)" [checked]="linKinJointICCheck">
          <label>
            Linear Kinematics at Joint
          </label>
        </div>
        <div *ngIf="this.linKinJointICCheck" style="text-indent: 30px">
          <input type="checkbox" value="linKinJointICPos" (change)="setOption($event)" [checked]="linKinJointICPos">
          <label>Position</label>
        </div>
        <div *ngIf="this.linKinJointICCheck" style="text-indent: 30px">
          <input type="checkbox" value="linKinJointICVel" (change)="setOption($event)" [checked]="linKinJointICVel">
          <label>Velocity</label>
        </div>
        <div>
          <input type="checkbox" value="angKinLinkICCheck" (change)="setOption($event)" [checked]=angKinLinkICCheck>
          <label>
            Angular Kinematics at Link
          </label>
        </div>
        <div *ngIf="this.angKinLinkICCheck" style="text-indent: 30px">
          <input type="checkbox" value="angKinLinkICVel" (change)="setOption($event)" [checked]="angKinLinkICVel">
          <label>Velocity</label>
        </div>
        <div>
          <button class="secondaryButtons" (click)="exportExcel('ics')">Export
            Data on the Selected Analysis
          </button>
        </div>
      </div>
    </div>
    <div class="tabPanel" *ngIf="getSelectedTab() === 1"
         style="margin: 4px 4px; padding: 4px; width: 500px; height: 500px; overflow-x: hidden; overflow-y:auto; text-align: justify">
      <div *ngIf="getSelectedAnalysis() === 'force'">
        <div>
          <label> Type of Analysis</label>
          <select name="selectedStaticAnalysis"
                  [(ngModel)]="forceAnalysis.selectedAnalysis"
                  (ngModelChange)="changePlotAnalysis(forceAnalysis.selectedAnalysis, '', 'statics')">
            <option *ngFor="let analysis of jointAnalyses" [value]="analysis.id">{{analysis.label}}
            </option>
          </select>
        </div>
        <!--        <div *ngIf="forceAnalysis.selectedAnalysis === 'joint_position'">-->
        <!--          <label> Joint</label>-->
        <!--          <select name="selectedStaticJoint"-->
        <!--                  [(ngModel)]="jointPlot.jointID"-->
        <!--                  (ngModelChange)="changeStaticJointPos(jointPlot.jointID)">-->
        <!--            <option *ngFor="let stat_joint of this.jointArray" [value]="stat_joint.id">{{stat_joint.id}}-->
        <!--            </option>-->
        <!--          </select>-->
        <!--        </div>-->
        <div *ngIf="forceAnalysis.selectedAnalysis === 'Joint Forces'">
          <label> Joint</label>
          <select name="selectedStaticJoint"
                  [(ngModel)]="forceMagPlot.force"
                  (ngModelChange)="changePlotAnalysis(forceAnalysis.selectedAnalysis, forceMagPlot.force, 'statics')">
            <option *ngFor="let stat_joint of getJoints()" [value]="stat_joint.id">{{stat_joint.id}}
            </option>
          </select>
        </div>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'dynamic'"></div>
      <div *ngIf="getSelectedAnalysis() === 'kinematic_loop'">
        <label> Type of Analysis</label>
        <select name="selectedKinematicLoopAnalysis"
                [(ngModel)]="kinematicLoopAnalysis.selectedAnalysis"
                (ngModelChange)="changePlotAnalysis(kinematicLoopAnalysis.selectedAnalysis, '', 'loop')">
          <option *ngFor="let analysis of kinematicLoopAnalyses" [value]="analysis.id">{{analysis.label}}
          </option>
        </select>
      </div>
      <div *ngIf="kinematicLoopAnalysis.selectedAnalysis.substring(0, 12) === 'Linear Joint'">
        <label> Linear Joint</label>
        <select name="selectedKinematicLoopLinearJoint"
                [(ngModel)]="kinematicLoopLinearJoint.joint"
                (ngModelChange)="changePlotAnalysis(kinematicLoopAnalysis.selectedAnalysis,
                   kinematicLoopLinearJoint.joint, 'loop')">
          <option *ngFor="let joint of getJoints()" [value]="joint.id">{{joint.id}}
          </option>
        </select>
      </div>
      <div *ngIf="kinematicLoopAnalysis.selectedAnalysis.substring(0, 11)  === 'Linear Link'">
        <label> Linear Link</label>
        <select name="selectedKinematicLoopLinearLink"
                [(ngModel)]="kinematicLoopLinearLink.link"
                (ngModelChange)="changePlotAnalysis(kinematicLoopAnalysis.selectedAnalysis,
                   kinematicLoopLinearLink.link, 'loop')">
          <option *ngFor="let link of getLinks()" [value]="link.id">{{link.id}}
          </option>
        </select>
      </div>
      <div *ngIf="kinematicLoopAnalysis.selectedAnalysis.substring(0, 12) === 'Angular Link'">
        <label> Angular Link</label>
        <select name="selectedKinematicLoopAngularLink"
                [(ngModel)]="kinematicLoopAngularLink.link"
                (ngModelChange)="changePlotAnalysis(kinematicLoopAnalysis.selectedAnalysis,
                   kinematicLoopAngularLink.link, 'loop')">
          <option *ngFor="let link of getLinks()" [value]="link.id">{{link.id}}
          </option>
        </select>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'kinematic_ic'"></div>
      <div *ngIf="showChart">
        <apx-chart
          [series]="chartOptions.series!"
          [chart]="chartOptions.chart!"
          [xaxis]="chartOptions.xaxis!"
          [yaxis]="chartOptions.yaxis!"
          [dataLabels]="chartOptions.dataLabels!"
          [grid]="chartOptions.grid!"
          [stroke]="chartOptions.stroke!"
          [title]="chartOptions.title!">
        </apx-chart>
      </div>
    </div>
    <div class="tabPanel" *ngIf="getSelectedTab() === 2"
         style="margin: 4px 4px; padding: 4px; width: 500px; height: 500px; overflow-x: hidden; overflow-y:auto; text-align: justify">
      <div *ngIf="getSelectedAnalysis() === 'loop'">
      </div>
      <div *ngIf="getSelectedAnalysis() === 'force'">
        <div id="div_{{link.id}}" *ngFor="let link of getLinks()"
             style="margin: 4px; padding: 4px; height: 50px; width: 500px; overflow: scroll; text-align: justify; display: block">
          <input type="checkbox" id="checkbox_{{link.id}}" (click)="updateTable('changeHeight', link.id)"
                 style="display: block; float: left">
          <label>Link {{link.id}}</label>
          <svg [attr.height]="getLinkProp(link, 'height')" [attr.width]="getLinkProp(link, 'width')"
               style="transform: scaleY(-1);display: none; margin: auto">
            <!-- TODO: Make sure scale works accordingly -->
            <g [attr.transform]="getLinkProp(link, 'transform')"
               [attr.height]="getLinkProp(link, 'height')" [attr.width]="getLinkProp(link, 'width')">
              <path
                [attr.d]="getLinkProp(link, 'd')" [attr.id]="link.id"
                [attr.fill]="getLinkProp(link, 'fill')">
              </path>
              <!-- TODO: Determine logic when the link shape is too big to showcase -->
              <circle *ngFor="let joint of link.joints" [attr.r]="getJointProp(joint, 'r')"
                      [attr.cx]="joint.x" [attr.cy]="joint.y" fill="black"/>
              <circle *ngFor="let joint of link.joints" [attr.r]="getJointProp(joint, 'ring')"
                      [attr.cx]="joint.x" [attr.cy]="joint.y" fill="gray"/>
              <svg *ngFor="let joint of link.joints" [attr.x]="joint.x - 0.3" [attr.y]="joint.y + 0.3"
                   style="font-size: 1px; text-anchor: middle; overflow: visible;">
                <text style="font-size: 0.7px; text-anchor: middle; transform: scaleY(-1)"> {{joint.id}}</text>
              </svg>
              <g *ngFor="let force of link.forces">
                <g [attr.id]="force.id">
                  <path [attr.d]="force.forceLine" [attr.stroke]="force.stroke" stroke-width="0.04"></path>
                  <path [attr.d]="force.forceArrow" [attr.fill]="force.fill"></path>
                </g>
                <svg [attr.x]="(force.startCoord.x + force.endCoord.x) / 2"
                     [attr.y]="(force.startCoord.y + force.endCoord.y) / 2"
                     style="font-size: 1px; text-anchor: middle; overflow: visible">
                  <text style="font-size: 0.7px; text-anchor: middle; transform: scaleY(-1)">{{force.id}}</text>
                </svg>
              </g>
              <g *ngFor="let joint of link.joints">
                <path *ngIf="getForceAssumption(link, joint, 'x') === 1"
                      [attr.d]="getForceLine(joint, 'pos', 'x')" stroke="black" stroke-width="0.04">
                </path>
                <path *ngIf="getForceAssumption(link, joint, 'x') === -1"
                      [attr.d]="getForceLine(joint, 'neg', 'x')" stroke="black" stroke-width="0.04">
                </path>
                <path *ngIf="getForceAssumption(link, joint, 'y') === 1"
                      [attr.d]="getForceLine(joint, 'pos', 'y')" stroke="black" stroke-width="0.04">
                </path>
                <path *ngIf="getForceAssumption(link, joint, 'y') === -1"
                      [attr.d]="getForceLine(joint, 'neg', 'y')" stroke="black" stroke-width="0.04">
                </path>
                <path *ngIf="getForceAssumption(link, joint, 'x') === 1"
                      [attr.d]="getForceArrow(joint, 'pos', 'x')" stroke="black" stroke-width="0.04">
                </path>
                <path *ngIf="getForceAssumption(link, joint, 'x') === -1"
                      [attr.d]="getForceArrow(joint, 'neg', 'x')" stroke="black" stroke-width="0.04">
                </path>
                <path  *ngIf="getForceAssumption(link, joint, 'y') === 1"
                       [attr.d]="getForceArrow(joint, 'pos', 'y')" stroke="black" stroke-width="0.04">
                </path>
                <path  *ngIf="getForceAssumption(link, joint, 'y') === -1"
                       [attr.d]="getForceArrow(joint, 'neg', 'y')" stroke="black" stroke-width="0.04">
                </path>
              </g>
            </g>
          </svg>
          <div *ngFor="let joint of link.joints" style="display: none">
            <!--            <input type="radio" (change)="updateTable('x', link, joint)" [checked]="getForceAssumption(link, joint, 'x') === 1">-->
            <label> Direction of Force {{joint.id}}x</label>
            <br>
            <input type="radio" (change)="updateTable('x', link, joint)" [checked]="getForceAssumption(link, joint, 'x') === 1">
            <label> Positive (+) </label>
            <input type="radio" (change)="updateTable('x', link, joint)" [checked]="getForceAssumption(link, joint, 'x') === -1">
            <label> Negative (-) </label>
            <br>

            <!--            <input type="radio" (change)="updateTable('x', link, joint)" [checked]="getForceAssumption(link, joint, 'x') === -1">-->
            <!--            <label> Neg Direction of Force {{joint.id}}x</label>-->
            <!--            <br>-->
            <label> Direction of Force {{joint.id}}y</label>
            <br>
            <input type="radio" (change)="updateTable('y', link, joint)" [checked]="getForceAssumption(link, joint, 'y') === 1">
            <label> Positive (+) </label>
            <input type="radio" (change)="updateTable('y', link, joint)" [checked]="getForceAssumption(link, joint, 'y') === -1">
            <label> Negative (-) </label>
            <!--            <input type="radio" (change)="updateTable('y', link, joint)" [checked]="getForceAssumption(link, joint, 'y') === -1">-->
            <!--            <label> Neg Direction of Force {{joint.id}}y</label>-->
            <!--            <br>-->
          </div>
          <div style="display: none">
            <label>Moment reference</label>
            <select [(ngModel)]="link.fixedLocation.fixedPoint" (ngModelChange)="updateTable('moment', link, link.fixedLocation.fixedPoint)">
              <option *ngFor="let fixedPoint of link.fixedLocations" [value]="fixedPoint.id"> {{fixedPoint.label}}
              </option>
            </select>
          </div>
          <!-- General Force Equations -->
          <div style="display: none">
            &sum;F
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            <br>
          </div>
          <!-- Force Equations -->
          <div style="display: none">
            <!-- Display internal forces at joints -->
            <span *ngFor="let joint of link.joints; let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0" >
                +
              </span>
              F
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{joint.id}}</sub>
            </span>
            <!-- Display forces due to gravity -->
            <span *ngIf="gravityOn()">
              + F
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>grav</sub>
            </span>
            <!-- Display external forces -->
            <span *ngFor="let force of link.forces">
              + F
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{force.id}}</sub>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            <br>
          </div>
          <!-- Force Solutions X -->
          <div style="display: none">
            <!-- Display internal forces Equations at joints (x)-->
            <span *ngFor="let joint of link.joints; let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0 && getForceAssumption(link, joint, 'x') === 1">
                +
              </span>
              <span *ngIf="getForceAssumption(link, joint, 'x') !== 1">
                -
              </span>
              F
              <sub>{{joint.id}}x</sub>
            </span>
            <span *ngFor="let force of link.forces">
              <span *ngIf="getForce(force, 'x') > 0">
                +
              </span>
              <span *ngIf="getForce(force, 'x') <= 0">
                -
              </span>
              {{getForce(force, 'x')}}
            </span>
            = 0
            <br>
          </div>
          <!-- Force Solutions Y -->
          <div style="display: none">
            <!-- Display internal forces Equations at joints (y)-->
            <span *ngFor="let joint of link.joints; let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0 && getForceAssumption(link, joint, 'y') === 1">
                +
              </span>
              <span *ngIf="getForceAssumption(link, joint, 'y') !== 1">
                -
              </span>
              F
              <sub>{{joint.id}}y</sub>
            </span>
            <!-- Display forces due to gravity -->
            <span *ngIf="gravityOn()">
              - {{getLinkWeight(link)}}
            </span>
            <!-- Display external forces equations (y) -->
            <span *ngFor="let force of link.forces">
              <span *ngIf="getForce(force, 'x') > 0">
                +
              </span>
              <span *ngIf="getForce(force, 'x') <= 0">
                -
              </span>
              {{getForce(force, 'x')}}
            </span>
            = 0
            <br>
          </div>
          <hr style="border-color: blue; display: none;">
          <!-- General Moment -->
          <div style="display: none">
            &sum;M
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            <sub>{{link.fixedLocation.fixedPoint}}</sub>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            <br>
          </div>
          <!-- Moment Equations -->
          <div style="display: none">
            <!-- Showcase moment due to the reactionary forces occurring within each link's joint -->
            <span *ngFor="let joint of link.joints; let indexOfElement=index">
              <span *ngIf="joint.id !== link.fixedLocation.fixedPoint">
                {{getMomentSignEqs(joint, link)}} r
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>{{link.fixedLocation.fixedPoint}}-{{joint.id}}</sub>
                X F
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>{{joint.id}}</sub>
              </span>
            </span>
            <!-- Showcase moment due to the gravity -->
            <span *ngIf="gravityOn()">
              <span *ngFor="let joint of link.joints">
                <span *ngIf="link.fixedLocation.fixedPoint !== joint.id">
                  + r
                  <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                  <sub>{{link.fixedLocation.fixedPoint}}-{{joint.id}}</sub>
                  X F
                  <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                  <sub>grav</sub>
                </span>
              </span>
              <span *ngIf="link.fixedLocation.fixedPoint !== 'com'">
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>{{link.fixedLocation.fixedPoint}}-{{'com'}}</sub>
                X F
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>grav</sub>
              </span>
            </span>
            <!-- Showcase moment due to external forces being applied to a link -->
            <span *ngFor="let force of link.forces">
              + r
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{link.fixedLocation.fixedPoint}}-{{force.id}}</sub>
              X F
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{force.id}}</sub>
            </span>
            <!-- Showcase torque due to input torque -->
            <span *ngIf="containInputJoint(link)">
              + T
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
          </div>
          <!-- Moment Solution  -->
          <div style="display: none">
            <!-- Moment due to the joint Equation -->
            <span *ngFor="let joint of link.joints; let indexOfElement=index">
              <span *ngIf="joint.id !== link.fixedLocation.fixedPoint">
                {{getMoment(joint, link, 'x')}}F
                <sub>{{joint.id}}x</sub>
                {{getMoment(joint, link, 'y')}}F
                <sub>{{joint.id}}y</sub>
              </span>
            </span>
            <!-- Moment due to the gravity -->
            <span *ngIf="gravityOn() && link.fixedLocation.fixedPoint !== 'com'">
              {{getMomentDueToGravity(link)}}
            </span>
            <!-- Moment due to external force -->
            <span *ngFor="let force of link.forces">
              {{getMomentDueToForce(link, force)}}
            </span>
            <span *ngIf="containInputJoint(link)">
              + T
            </span>
            = 0
          </div>
        </div>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'stress'">

      </div>
      <div *ngIf="getSelectedAnalysis() === 'kinematic_loop'">
        <div id="div_{{loop}}" *ngFor="let loop of getKinematicLoops()"
             style="margin: 4px; padding: 4px; height: 50px; width: 500px; overflow: scroll; text-align: justify; display: block">
          <input type="checkbox" id="checkbox_{{loop}}" (click)="updateTable('changeHeight', loop)"
                 style="display: block; float: left">
          <label>Loop {{loop}}</label>
          <!-- General Velocity Equations -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0">
               +
              </span>
              V
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[1]}}/{{pair[0]}}</sub>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
          </div>
          <!--  w x r Equations -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0">
               +
              </span>
              <!-- TODO: Be sure to replace certain characters with their actual /u character! -->
              ω
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
               X r
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair}}</sub>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
          </div>
          <!-- w x r (x) Solutions -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="pairContainInputJoint(pair)">
              {{determineInputVel(pair, 'x')}}
              </span>
              <span *ngIf="!pairContainInputJoint(pair)">
                {{determineUnknownVel(pair, 'x')}}ω
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>{{pair[0]}}/{{pair[1]}}</sub>
              </span>
            </span>
            = 0
          </div>
          <!-- w x r (y) Solutions -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="pairContainInputJoint(pair)">
              {{determineInputVel(pair, 'y')}}
              </span>
              <span *ngIf="!pairContainInputJoint(pair)">
                {{determineUnknownVel(pair, 'y')}}ω
                <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
                <sub>{{pair[0]}}/{{pair[1]}}</sub>
              </span>
            </span>
            = 0
          </div>
          <hr style="border-color: blue; display: none;">
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0">
               +
              </span>
              A
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[1]}}/{{pair[0]}}</sub>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
          </div>
          <!--  w x w x r + a x r Equations -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="indexOfElement !== 0">
               +
              </span>
              <!-- TODO: Be sure to replace certain characters with their actual /u character! -->
              ω
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
               X ω
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
               X r
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair}}</sub>
              + α
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
               X r
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair}}</sub>
            </span>
            = 0
            <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
          </div>
          <!-- w x w x r + a x r (x) Solutions -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="pairContainInputJoint(pair)">
              {{determineInputAcc(pair, 'x')}}
              </span>
              <span *ngIf="!pairContainInputJoint(pair)">
                {{determineUnknownAcc(pair, 'x')}}α
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
              </span>
            </span>
            = 0
          </div>
          <!-- w x w x r + a x r (y) Solutions -->
          <div>
            <span *ngFor="let pair of getLoopPairs(loop); let indexOfElement=index">
              <span *ngIf="pairContainInputJoint(pair)">
                {{determineInputAcc(pair, 'y')}}
              </span>
              <span *ngIf="!pairContainInputJoint(pair)">
                {{determineUnknownAcc(pair, 'y')}}α
              <span [innerHTML]="'\u20d7'" style="vertical-align: 8px"></span>
              <sub>{{pair[0]}}/{{pair[1]}}</sub>
              </span>
            </span>
            = 0
          </div>
        </div>
      </div>
      <div *ngIf="getSelectedAnalysis() === 'ic'">

      </div>
    </div>
  </div>
</div>
